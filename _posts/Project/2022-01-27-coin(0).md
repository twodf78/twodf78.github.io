---
layout: single
title: "[coin auto trading]0. 기획"

categories: Project
tags: 
  - [project, python, personal, coin_auto_trading]
toc: true
toc_sticky: true
author_profile: true  
sidebar:
  nav: "docs"
search: false
date: 2022-01-27
last_modified_at: 2022-01-27
---



# 코인 자동매매 프로그램의 기획

**[참조]**[이 프로그램은 해당 영상을 참조하여 만들었습니다.](https://www.youtube.com/watch?v=WgXOFtDD6XU&t=2s)
{: .notice--success} 

## 1. 기획하게 된 이유

​	코딩 과외를 숨고 앱에 올려 구한 적이 있었다. 그 때 어떤 분이 본인이 코인 자동매매 프로그램을 구현 및 관리를 해보고 싶다고 했다. 원래부터 코인을 소액으로 거래를 하던 와중이여서 흥미가 있었고, 또 업비트가 API를 파이썬으로 제공한다는 소식을 들어 바로 진행하였다.



## 2. 코인 자동매매 프로그램의 기능



- 자동매매

  자동으로 매매가 이뤄진다. 프로그램을 실행한 후 코인장은 24시간 돌아가기 때문에 그대로만 놨두면 된다.

- 코인 선정

  코인은 과거 데이터 기반 최고의 수익률을 냈던 코인을 선택한다. 물론 직접 선택을 할 수도 있다. 사용자가 직접 선택할 것인지 데이터 기반 수익률 좋은 코인을 선택할 것인지 정할 수 있다. 종가 시점에서 데이터를 업데이트를 하여 수익률을 다시 계산한다.

- 자동 매수/매도

  매수 기준은 여럿이 있고 사용자가 선택할 수 있게 구현하였다. 매수 기준은 다음과 같다:

  - 변동성 돌파 전략:

    전날 고가 저가의 차이에 k(0.1~0.9) 만큼 곱한 값을 당일 시가에 더한다. 이 더해진 값이 매수목표가가 되고 종가 시점에 무조건 매도한다. k값은 사용자가 선택한 코인인 경우 선택을 할 수도 있고, 자동 선정인 경우는 수익률이 제일 높은 k값으로 선택한다.

    더 자세히 설명하자면 k는 커지면 커질 수록 매수를 안 할 확률이 높다. k가 높다는 것은 당일 시가에 더 큰 값을 더한 값이 매수목표값이 된다는 의미다. 그렇기에 시장가가 매수목표가에 도달하기가 어렵고 그만큼 하락장에서는 매수할 상황이 오지 않아 안전하다는 것이다.  반대로 k가 낮다는 것은 매수목표가가 그만큼 낮다는 것이고, 시장가가 매수목표가에 도달할 확률이 크다는 것이다. 상승장에서는 더 큰 수익을 낼 수 있지만, 하락장에서는 위험할 수 있다.
    {: .notice--info}

  - 인공지능 종가 예측 전략:

    위 변동성 돌파 전략을 기반한다. 종가 시점 가격을 인공지능으로 예측한 뒤 이 가격이 매수목표가보다 높을 시에만 매수를 한다. 매수가 되었을 시 무조건 종가 시점에만 매도를 한다.

  - 퍼센트 매수 전략:

    이미 보유한 코인일 시 매수 목표가를 해당 코인의 매수 평균가의 80퍼센트로 지정한다. 즉 20프로 떨어졌을 때마다 매수를 한다는 얘기인데, 효과적으로 매수 평균가를 낮추기 위해 매수를 할 때마다 해당 코인의 총 매수금액만큼 재 매수를 한다. 그만큼 이 전략을 이용할 시 첫 매수일 경우는 보유원화의 12.5 퍼센트 만큼의 상대적으로 적은 금액만 매수를 한다.

    두 가지 상황에서 매도를 진행하는데,  **(손절)**더 이상 원화가 없을 시, 시장가가 매수평균가보다 10프로 이상 낮아지면 매도를 한다. **(익절)**시장가가 매수평균가보다 5프로 이상 높아지면 매도를 한다.

    

- Slack 메세지 전송

  매수 / 매도가 이뤄졌을 시 매수가 / 매도가, 수익률, 보유 원화 등 정보를 Slack으로 전송한다.

  프로그램에서 자동으로 코인을 선정하였을 때도 해당 코인명, 수익률, 제일 수익률이 높은 k값을 Slack으로 전송한다.



## 3. 장단점

- ### **장점**

  - 자동매매의 장점:

    우선 실행만 시켜놓는다면, 24시간 알아서 자동으로 거래해주기 때문에 매 순간 코인 장에 신경을 쓰지 않아도 된다.

  - 낮은 리스크:

    기본적으로 자동매매 프로그램이기에, 우리가 신경을 쓰지 않는 다는 가정을 한다. 그렇기에 리스크에 알아서 잘 대비해야하는데, 종가에서 무조건 매도를 하거나, 매수평균가의 5프로만 수익이 나도 바로 매도를 진행한다. 변동성이 큰 코인 시장에서 코인을 오래 보유하지 않고 리스크를 최대한 줄인다는 의미이다.

  - 자율성:

    기존 조코딩님의 자동매매 프로그램에 내가 추가한 장점은 자율성이라고 생각한다. 여러 전략들중 하나를 선택할 수 있게끔 구현하였고,  k값 및 코인(직접 선택 / 프로그램 자동 선정까지도)까지도 구현하였다. 

  

- ### **단점**

  - 프로그램 실행 측면 복잡성:

    프로그램을 vscode등 편집기에서나 cmd등 터미널 창에서 실행시켜야한다. 또한 업비트의 API key와 Slack 토큰을 발급 받아서 그 값들을 자신의 코드에 넣어야 한다. 

    이런 측면에서 프로그래밍에 대해 어느정도 알고 있어야 하여서 대중적으로는 접근성이 어렵다는 단점이 있다.

  - 상대적으로 낮은 수익률:

    사실 이는 리스크를 최대한 제거하였기 어쩔 수 없는 부분이다. 상승장보다는 하락장에서 잘 대처할 수 있게끔 설계되어있기 때문이다. k값을 자동으로 계산하는 부분에서 0.1이 아닌 0.5부터 시작하는 이유도 같은 이유다. 
    
  - 불변성:
  
    자동으로 계속 실행되는 과정에선 한 번 선택한 전략을 바꾸기는 어렵다. 그 전략으로 지속적으로 진행되기 때문이다. 물론 프로그램을 종료 시킨 후 다시 실행시켜 선택하면 된다. 

### 			

